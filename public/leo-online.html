<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Онлайн-запись</title>
  <link rel="stylesheet" href="leo-online.css" />
</head>
<body>
  <div class="container">
    <div class="selection" data-section="services">
      <div class="label">Услуга</div>
      <div class="chosen" id="chosen-service">Не выбрано</div>
      <span class="arrow">➤</span>
    </div>

    <div class="selection" data-section="staff">
      <div class="label">Сотрудник</div>
      <div class="chosen" id="chosen-staff">Не выбрано</div>
      <span class="arrow">➤</span>
    </div>

    <div class="selection" data-section="datetime">
      <div class="label">Дата и время</div>
      <div class="chosen" id="chosen-datetime">
        <p id="chosen-time">Не выбрано</p>
      </div>
      <span class="arrow">➤</span>
    </div>
    
    <button id="submitBtn" onclick="submitVisit()">ОФОРМИТЬ ВИЗИТ</button>
    
    <!-- Блок с уведомлением о Telegram -->
    <div class="telegram-notice">
      <strong><span class="telegram-notice-icon">ℹ️</span>Важно!</strong>
      Чтобы подтвердить свою запись, подпишитесь на нашего телеграм-бота и напишите ему "/start"
    </div>
    
    <a href="leo.html" class="back-link">← Назад</a>
  </div>
  
  <script src="leo-online.js"></script>
  <script>
    // Инициализация обработчиков событий для выбора
    document.addEventListener('DOMContentLoaded', () => {
      const selections = document.querySelectorAll('.selection');
      selections.forEach(selection => {
        selection.addEventListener('click', () => {
          const section = selection.getAttribute('data-section');
          goTo(section);
        });
      });

      function goTo(section) {
        localStorage.setItem("returnUrl", window.location.href);
        const allowed = ['services', 'staff', 'datetime', 'leo-online'];
        if (allowed.includes(section)) {
          window.location.href = `${section}.html`;
        } else {
          console.error(`❌ Неизвестный раздел: ${section}`);
        }
      }
    });
  </script>
</body>
</html>
